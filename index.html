<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Launcher reale</title>
</head>
<body>
<button id="openLead">Apri Lead</button>
<div id="root"></div>
<script src="./bundle.js"></script>
<script>
   // base URL OBBLIGATORIA
   window.Application = {
     baseUrl: "https://ppcrmagenti.axa-italia.it/",
     authenticated: true
   };
   // inizializza bridge
   const app = new window.AxaApplication({});
   app.bindEvent();
   // IMPORTANTE: React è incluso nel bundle
   const SalesforceConnect =
     window.require?.("vendor/react/components/SalesforceConnect")
     || window.SalesforceConnect;
   document.getElementById("openLead").onclick = () => {
     // monta React → CREA iframe
     ReactDOM.render(
       React.createElement(SalesforceConnect, {
         id: "mobilityLeadListView",
         visualforce: "javascriptIntegration",
         widget: true,
         limit: 5,
         DefaultFilter: "All"
       }),
       document.getElementById("root")
     );
   };
</script>
</body>
</html>
