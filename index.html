<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<title>Salesforce Launcher</title>
<style>
   body {
     font-family: Arial, sans-serif;
   }
   button {
     padding: 10px 16px;
     font-size: 16px;
     cursor: pointer;
   }
   #overlay {
     position: fixed;
     inset: 0;
     background: rgba(0, 0, 0, 0.6);
     display: none;
     align-items: center;
     justify-content: center;
   }
   #frame-container {
     width: 90%;
     height: 90%;
     background: #fff;
     position: relative;
   }
   #close {
     position: absolute;
     top: 6px;
     right: 6px;
     z-index: 10;
   }
   iframe {
     width: 100%;
     height: 100%;
     border: none;
   }
</style>
</head>
<body>
<h2>Sito esterno</h2>
<button id="openLead">
   Apri Lead
</button>
<!-- OVERLAY CON IFRAME -->
<div id="overlay">
<div id="frame-container">
<button id="close">âœ•</button>
<iframe id="sf-frame"></iframe>
</div>
</div>
<script>
   const overlay = document.getElementById("overlay");
   const iframe = document.getElementById("sf-frame");
   document.getElementById("openLead").onclick = () => {
     overlay.style.display = "flex";
     iframe.src = "https://ppcrmagenti.axa-italia.it/tabs/lightning/outApp.app" +
       "?component=mobilityLeadListView";
   };
   document.getElementById("close").onclick = () => {
     overlay.style.display = "none";
     iframe.src = "";
   };
   // ðŸ” opzionale: messaggi da Salesforce
   window.addEventListener("message", event => {
     if (event.data?.type === "CLOSE_IFRAME") {
       overlay.style.display = "none";
       iframe.src = "";
     }
   });
</script>
</body>
</html>
