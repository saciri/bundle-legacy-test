<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<title>Launcher corretto</title>
</head>
<body>
<button id="openLead">Apri Lead</button>
<!-- container usato dal bundle -->
<div id="app"></div>
<!-- bundle legacy -->
<script src="./bundle.js"></script>
<script>
   // ðŸ”‘ BASE URL DELLA COMMUNITY (OBBLIGATORIA)
   const COMMUNITY_BASE = "https://ppcrmagenti.axa-italia.it/";
   // ðŸ”‘ Application DEVE ESISTERE PRIMA
   window.Application = {
     baseUrl: COMMUNITY_BASE,
     authenticated: true,
     handlerComponent: function (name, params) {
       console.log("handlerComponent", name, params);
     },
     resize: function () {},
     navigate: function () {},
     postMessage: function () {}
   };
   // Avvio applicazione legacy
   const app = new window.AxaApplication({
     target: "app",
     lwc: true,
     visualforce: "javascriptIntegration"
   });
   // Click â†’ apertura Lead (come nel portale)
   document.getElementById("openLead").onclick = () => {
     app.handlerComponent("mobilityLeadListView", {
       widget: true,
       limit: 5,
       DefaultFilter: "All"
     });
   };
</script>
</body>
</html>
