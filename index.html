<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<title>Baseline â€“ Bundle Legacy (iframe)</title>
<!-- Lightning Out -->
<script src="https://ppcrmagenti.axa-italia.it/tabs/lightning/lightning.out.js"></script>
<style>
   body {
     font-family: Arial, sans-serif;
   }
   #shell {
     border: 2px solid #444;
     padding: 10px;
   }
   iframe {
     width: 100%;
     height: 500px;
     border: 1px solid #999;
   }
</style>
</head>
<body>
<h2>Test bundle.js (iframe)</h2>
<div id="shell">
<iframe id="sf-frame"></iframe>
</div>
<!-- Bundle legacy -->
<script src="./bundle.js"></script>
<!-- MOCK PORTALE -->
<script>
   window.Application = {
     authenticated: true,
     handlerComponent: function (name, payload) {
       console.log("[MOCK Application.handlerComponent]", name, payload);
       // esempio: resize iframe se richiesto
       if (name === "resize" && payload?.height) {
         document.getElementById("sf-frame").style.height =
           payload.height + "px";
       }
     },
     resize: function () {},
     navigate: function () {},
     postMessage: function () {}
   };
</script>
<!-- INIT -->
<script>
   new window.AxaApplication({
     target: "sf-frame",   // ðŸ‘ˆ iframe, non div
     component: "javascriptIntegration",
     lwc: true
   });
</script>
</body>
</html>
